<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CarbonX</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Figtree:ital,wght@0,300..900;1,300..900&family=Hammersmith+One&display=swap" rel="stylesheet">
    <link rel="icon" href="assets/CarbonX-icon(dark).png" type="image/png" media="(prefers-color-scheme: dark)">
    <link rel="icon" href="assets/CarbonX-icon(light).png" type="image/png" media="(prefers-color-scheme: light)">
<style>
    :root {
        color-scheme: light dark;
        --navy: #223f43;
        --blue: #59A5B2;
        --light-blue: #c5e4e7;
        --cream: #f1e0ce;
        --yellow: #fbcc58;
        --black: #020202;
        --white: #f4f4f4;
        --grey: #eaeaea;
        --dark-grey: #a9a9a9;
        --body-bg: light-dark(var(--grey), var(--black));
        --card-bg: light-dark(var(--white), var(--black));
        --border-color: var(--dark-grey);
        --text-dark: light-dark(var(--black), var(--white));
        --text-muted: var(--dark-grey);
        --modal-bg: light-dark(var(--white), var(--black));
    }

    * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
    }

    body {
        font-family: 'Figtree', sans-serif;
        background-color: var(--body-bg);
        color: var(--text-dark);
        display: flex;
        height: 100vh;
        overflow: hidden;
    }

    .sidebar {
        width: 80px;
        background-color: var(--card-bg);
        padding: 30px 15px;
        display: flex;
        flex-direction: column;
        justify-content: space-between;
        border-right: 1px solid var(--border-color);
        flex-shrink: 0;
        transition: width 0.3s ease;
        overflow-x: hidden;
    }
    .sidebar.expanded {
        width: 240px;
    }

    .sidebar-top, .sidebar-bottom {
        display: flex;
        flex-direction: column;
    }

    .logo {
        display: flex;
        align-items: center;
        gap: 10px;
        margin-bottom: 50px;
        flex-shrink: 0;
        height: 30px;
        justify-content: center;
    }

    .sidebar.expanded .logo{
        opacity: 1;
    }

    .nav-menu {
        display: flex;
        flex-direction: column;
    }

    .nav-item {
        display: flex;
        align-items: center;
        padding: 12px;
        border-radius: 8px;
        margin-bottom: 10px;
        cursor: pointer;
        transition: background-color 0.2s, color 0.2s;
        font-weight: 500;
        color: light-dark(var(--black), var(--white));
        text-decoration: none;
        white-space: nowrap;
    }
    .nav-item.active {
        background-color: light-dark(var(--navy), var(--blue));
        color: light-dark(var(--white), var(--black));
    }
    .nav-item:not(.active):hover {
       background-color: var(--border-color);
    }
    .nav-item svg {
        width: 24px;
        height: 24px;
        flex-shrink: 0;
        margin-right: 18px;
    }
    .nav-item span {
        opacity: 0;
        transition: opacity 0.2s;
    }
    .sidebar.expanded .nav-item span {
        opacity: 1;
    }

    .user-profile {
        display: flex;
        align-items: center;
        gap: 10px;
        padding-top: 20px;
        border-top: 1px solid var(--border-color);
        margin-top: 20px;
        text-decoration: none;
        color: inherit;
    }
    .user-avatar {
        width: 40px;
        height: 40px;
        border-radius: 50%;
        background-color: var(--dark-grey);
        color: var(--white);
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: bold;
        flex-shrink: 0;
    }
    .user-info {
        opacity: 0;
        transition: opacity 0.2s;
    }
    .sidebar.expanded .user-info {
        opacity: 1;
    }
    .user-info .name {
        font-weight: 600;
        color: var(--text-dark);
    }
    .user-info .company {
        font-size: 12px;
        color: var(--text-muted);
    }

    .main-content {
        flex-grow: 1;
        padding: 40px;
        overflow-y: auto;
    }

    header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 30px;
    }
    
    header .title h1 {
        font-size: 36px;
        color: var(--text-dark);
        font-weight: bold;
    }
    header .title p {
        color: light-dark(var(--black), var(--white));
        margin-top: 5px;
    }
    
    header .actions {
        display: flex;
        gap: 15px;
    }

    .search-bar {
        position: relative;
    }
    .search-bar input {
        padding: 10px 15px 10px 40px;
        border-radius: 8px;
        border: 1px solid var(--border-color);
        width: 250px;
        background-color: var(--card-bg);
        color: var(--text-dark);
    }
    .search-bar svg {
        position: absolute;
        left: 12px;
        top: 50%;
        transform: translateY(-50%);
        color: var(--text-muted);
    }
    
    .add-new-btn {
        background-color: var(--yellow);
        color: var(--black);
        border: none;
        padding: 10px 20px;
        border-radius: 8px;
        font-weight: 600;
        font-size: 14px;
        cursor: pointer;
        transition: background-color 0.2s;
    }
    .add-new-btn:hover {
        background-color: var(--cream);
    }

    .inventory-table {
        width: 100%;
        border-collapse: collapse;
        background-color: var(--card-bg);
        border-radius: 15px;
        box-shadow: 0 4px 12px rgba(0,0,0,0.05);
        border: 1px solid var(--border-color);
        overflow: hidden;
    }
    .inventory-table th, .inventory-table td {
        text-align: left;
        padding: 16px;
        border-bottom: 1px solid var(--border-color);
    }
    .inventory-table th {
        font-weight: 500;
        font-size: 14px;
        color: var(--text-muted);
    }
    .inventory-table td {
        font-size: 14px;
        font-weight: 500;
    }
    .inventory-table tbody tr:last-child td {
        border-bottom: none;
    }
    .dpp-link {
        color: light-dark(var(--navy), var(--blue));
        font-weight: bold;
        text-decoration: underline;
        cursor: pointer;
    }
    .view-file-btn {
        background-color: var(--light-blue);
        color: light-dark(var(--navy), var(--black));
        font-weight: 600;
        padding: 6px 15px;
        border-radius: 6px;
        border: none;
        cursor: pointer;
    }
     .calculate-lca-btn-inline {
        background-color: light-dark(var(--navy), var(--blue));
        color: light-dark(var(--white), var(--black));
        border: none;
        padding: 6px 15px;
        border-radius: 6px;
        cursor: pointer;
        transition: background-color 0.2s;
        font-weight: 600;
    }
    .calculate-lca-btn-inline:hover {
        background-color: light-dark(var(--blue), var(--navy));
        color: light-dark(var(--black), var(--white));
    }
    
    /* Modal Styles */
    .modal-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0, 0, 0, 0.6); display: flex; align-items: center; justify-content: center; z-index: 1000; opacity: 0; visibility: hidden; transition: opacity 0.3s, visibility 0.3s; }
    .modal-overlay.active { opacity: 1; visibility: visible; }
    .modal-content { background: var(--modal-bg); padding: 30px; border-radius: 16px; width: 100%; box-shadow: 0 10px 30px rgba(0,0,0,0.2); transform: scale(0.95); transition: transform 0.3s; color: var(--text-dark); }
    #addProductModal .modal-content { max-width: 400px; }
    #dppModal .modal-content { max-width: 800px; max-height: 90vh; overflow-y: auto; }
    .modal-overlay.active .modal-content { transform: scale(1); }
    .modal-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; }
    .modal-header h2 { font-family: 'Figtree', sans-serif; font-size: 24px; font-weight: 700; color: var(--text-dark); }
    .close-modal-btn { background: none; border: none; font-size: 30px; cursor: pointer; color: var(--text-muted); line-height: 1; }
    
    #addProductForm .form-group { margin-bottom: 20px; }
    #addProductForm label { font-weight: 600; font-size: 14px; margin-bottom: 8px; display: block; color: var(--text-dark); }
    #addProductForm input[type="text"] { width: 100%; padding: 12px; border: 1px solid var(--border-color); border-radius: 8px; background-color: var(--card-bg); color: var(--text-dark); }
    .file-drop-area { border: 2px dashed var(--border-color); border-radius: 8px; padding: 30px; display: flex; flex-direction: column; align-items: center; justify-content: center; background-color: var(--card-bg); cursor: pointer; transition: background-color 0.2s; }
    .file-drop-area:hover { background-color: var(--body-bg); }
    .file-drop-area svg { width: 32px; height: 32px; margin-bottom: 10px; color: var(--text-muted); }
    .file-attached-info { font-size: 13px; color: var(--text-muted); margin-top: 10px; display: none; }
    .create-dpp-btn { width: 100%; padding: 14px; background-color: var(--yellow); color: var(--black); font-weight: 700; border: none; border-radius: 8px; font-size: 16px; cursor: pointer; margin-top: 10px; min-width: auto; transition: background-color 0.2s; }
    .create-dpp-btn:hover { background-color: var(--cream); }

    .dpp-section { margin-bottom: 25px; }
    .dpp-section h3 { font-size: 18px; color: light-dark(var(--navy), var(--blue)); border-bottom: 2px solid light-dark(var(--navy), var(--blue)); padding-bottom: 5px; margin-bottom: 15px; }
    .dpp-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 10px 20px; }
    .dpp-item strong { display: block; font-weight: 600; margin-bottom: 3px;}
    .dpp-item span { font-size: 14px; }
    .dpp-list { list-style-position: inside; padding-left: 5px;}
    .dpp-list li { margin-bottom: 5px; }
    .dpp-table { width: 100%; border-collapse: collapse; font-size: 13px; }
    .dpp-table th, .dpp-table td { border: 1px solid var(--border-color); padding: 8px; text-align: left;}
    .dpp-table th { background-color: var(--body-bg); }
</style>
</head>
<body>
<div class="sidebar">
    <div class="sidebar-top">
        <div class="logo">
            <picture>
                <source srcset="assets/CarbonX-icon(dark).png" media="(prefers-color-scheme: dark)">
                <img src="assets/CarbonX-icon(light).png" alt="Logo" width="30">
            </picture>
        </div>
        <nav class="nav-menu">
            <a href="dashboard.html" class="nav-item">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path><polyline points="9 22 9 12 15 12 15 22"></polyline></svg>
                <span>Dashboard</span>
            </a>
            <a href="inventory.html" class="nav-item active">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"></path><polyline points="3.27 6.96 12 12.01 20.73 6.96"></polyline><line x1="12" y1="22.08" x2="12" y2="12"></line></svg>
                <span>Inventory</span>
            </a>
            <a href="analytics.html" class="nav-item">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="20" x2="18" y2="10"></line><line x1="12" y1="20" x2="12" y2="4"></line><line x1="6" y1="20" x2="6" y2="14"></line></svg>
                <span>Analytics</span>
            </a>
            <a href="network.html" class="nav-item">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="9" cy="7" r="4"></circle><path d="M23 21v-2a4 4 0 0 0-3-3.87"></path><path d="M16 3.13a4 4 0 0 1 0 7.75"></path></svg>
                <span>Network</span>
            </a>
            <a href="report.html" class="nav-item">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="16" y1="13" x2="8" y2="13"></line><line x1="16" y1="17" x2="8" y2="17"></line><polyline points="10 9 9 9 8 9"></polyline></svg>
                <span>Report</span>
            </a>
            <a href="chat.html" class="nav-item">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path></svg>
                <span>AI Chat</span>
            </a>
        </nav>
    </div>
    <div class="sidebar-bottom">
         <nav class="nav-menu">
            <!-- Settings link is removed -->
         </nav>
        <a href="settings.html" class="user-profile">
            <div class="user-avatar" id="user-avatar"></div>
            <div class="user-info">
                <div class="name" id="user-name"></div>
                <div class="company" id="user-company"></div>
            </div>
        </a>
    </div>
</div>
    <main class="main-content">
        <header>
            <div class="title">
                <h1>Inventory</h1>
                <p>Overview of your products.</p>
            </div>
            <div class="actions">
                <div class="search-bar">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line></svg>
                    <input type="search" id="searchInput" placeholder="Search">
                </div>
                <button class="add-new-btn">Add New</button>
            </div>
        </header>
        <table class="inventory-table">
            <thead>
                <tr>
                    <th>Product Name</th>
                    <th>DPP</th>
                    <th>kgCO2e</th>
                    <th>Uploaded File</th>
                </tr>
            </thead>
            <tbody>
                <!-- Rows will be injected by JS -->
            </tbody>
        </table>
    </main>

    <!-- Add Product Modal -->
    <div id="addProductModal" class="modal-overlay">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Add a New Product</h2>
                <button class="close-modal-btn">&times;</button>
            </div>
            <form id="addProductForm">
                <div class="form-group">
                    <label for="productName">Product Name</label>
                    <input type="text" id="productName" required>
                </div>
                <div class="form-group">
                    <label>File</label>
                    <div class="file-drop-area">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="12" y1="18" x2="12" y2="12"></line><line x1="9" y1="15" x2="15" y2="15"></line></svg>
                        <input type="file" id="fileUpload" class="file-input" hidden>
                    </div>
                    <p class="file-attached-info">File Attached: <strong id="fileName"></strong></p>
                </div>
                <button type="submit" class="create-dpp-btn">Create DPP</button>
            </form>
        </div>
    </div>

    <!-- DPP Modal -->
    <div id="dppModal" class="modal-overlay">
        <div class="modal-content">
             <div class="modal-header">
                <h2 id="dppProductName">Digital Product Passport</h2>
                <button class="close-modal-btn">&times;</button>
            </div>
            <div id="dppContent">
                <!-- DPP content will be injected by JS -->
            </div>
        </div>
    </div>

<script>
    document.addEventListener('DOMContentLoaded', () => {
        let products = JSON.parse(sessionStorage.getItem('products')) || [];
        let fileStore = {}; 

        const tableBody = document.querySelector('.inventory-table tbody');
        
        // Dummy DPP data for demonstration
        const dppData = { "dpp": { "productOverview": { "partName": "Handheld Hammer Drill", "partNumber": "HHD-2000", "description": "A robust and versatile handheld hammer drill designed for efficient drilling into various materials, including concrete, masonry, wood, and metal. Features a durable steel gear train for reliable performance and extended lifespan.", "application": "Ideal for professional construction, DIY projects, and general maintenance tasks requiring powerful rotational and percussive drilling." }, "billOfMaterials": [ { "item": 1, "quantity": 1, "partName": "Carrier 1 + Sun Gear 2", "description": "Module: 0.685", "material": "Steel" } ], "technicalSpecifications": { "powerInput": "800W", "noLoadSpeed": "0-3000 RPM", "impactRate": "0-48000 BPM" }, "featuresAndBenefits": [ "Powerful 800W motor for high performance.", "Durable all-steel gearing for long tool life." ] } };

        function renderTable(productsToRender = products) {
            tableBody.innerHTML = '';
            if (productsToRender.length > 0) {
                productsToRender.forEach(product => {
                    if (product.fileName && !fileStore[product.id]) {
                       fileStore[product.id] = { name: product.fileName, isPlaceholder: true };
                    }

                    const lcaCell = product.lca > 0 
                        ? product.lca.toFixed(3) 
                        : `<button class="calculate-lca-btn-inline" data-id="${product.id}">Calculate LCA</button>`;

                    const row = `
                        <tr>
                            <td>${product.name}</td>
                            <td><a href="#" class="dpp-link" data-id="${product.id}">View DPP</a></td>
                            <td>${lcaCell}</td>
                            <td><button class="view-file-btn" data-id="${product.id}">View File</button></td>
                        </tr>
                    `;
                    tableBody.innerHTML += row;
                });
            } else {
                const message = products.length === 0 ? "No products found in inventory." : "No products match your search.";
                tableBody.innerHTML = `<tr><td colspan="4" style="text-align: center; padding: 40px;">${message}</td></tr>`;
            }
        }

        const addProductModal = document.getElementById('addProductModal');
        const openAddProductBtn = document.querySelector('.add-new-btn');
        const closeAddProductBtn = addProductModal.querySelector('.close-modal-btn');
        const addProductForm = document.getElementById('addProductForm');
        const fileInput = document.getElementById('fileUpload');
        const fileDropArea = addProductModal.querySelector('.file-drop-area');
        const fileNameDisplay = addProductModal.querySelector('#fileName');
        const fileAttachedInfo = addProductModal.querySelector('.file-attached-info');
        
        openAddProductBtn.addEventListener('click', () => addProductModal.classList.add('active'));
        closeAddProductBtn.addEventListener('click', () => addProductModal.classList.remove('active'));
        fileDropArea.addEventListener('click', () => fileInput.click());

        fileInput.addEventListener('change', () => {
            if (fileInput.files.length > 0) {
                const file = fileInput.files[0];
                fileNameDisplay.textContent = file.name;
                fileAttachedInfo.style.display = 'block';
            }
        });

        addProductForm.addEventListener('submit', (e) => {
            e.preventDefault();
            const productName = document.getElementById('productName').value;
            const file = fileInput.files[0];
            if(productName && file){
                const newProduct = {
                    id: Date.now(),
                    name: productName,
                    lca: 0,
                    fileName: file.name
                };
                products.push(newProduct);
                fileStore[newProduct.id] = file;
                sessionStorage.setItem('products', JSON.stringify(products));
                renderTable();
                addProductForm.reset();
                fileAttachedInfo.style.display = 'none';
                addProductModal.classList.remove('active');
            } else {
                alert("Please provide a product name and a file.");
            }
        });

        const dppModal = document.getElementById('dppModal');
        const closeDppBtn = dppModal.querySelector('.close-modal-btn');
        closeDppBtn.addEventListener('click', () => dppModal.classList.remove('active'));
        
        function populateAndShowDpp(product) {
            const data = dppData.dpp;
            const dppContent = document.getElementById('dppContent');
            
            let techSpecsHtml = '';
            for (const key in data.technicalSpecifications) {
                let value = data.technicalSpecifications[key];
                if (typeof value === 'object') {
                    value = Object.entries(value).map(([subKey, subValue]) => `${subKey}: ${subValue}`).join(', ');
                }
                techSpecsHtml += `<div class="dpp-item"><strong>${key.replace(/([A-Z])/g, ' $1').replace(/^./, str => str.toUpperCase())}:</strong> <span>${value}</span></div>`;
            }

            // --- THIS LOGIC IS UPDATED ---
            dppContent.innerHTML = `
                <div class="dpp-section">
                    <h3>Product Overview</h3>
                    <div class="dpp-grid">
                        <div class="dpp-item"><strong>Part Name:</strong> <span>${product.name}</span></div>
                        <div class="dpp-item"><strong>Part Number:</strong> <span>${data.productOverview.partNumber}</span></div>
                        <div class="dpp-item" style="grid-column: span 2;"><strong>Description:</strong> <span>${data.productOverview.description}</span></div>
                        <div class="dpp-item" style="grid-column: span 2;"><strong>Application:</strong> <span>${data.productOverview.application}</span></div>
                    </div>
                </div>
                <div class="dpp-section">
                    <h3>Bill of Materials</h3>
                    <table class="dpp-table">
                        <thead><tr><th>Item</th><th>Quantity</th><th>Part Name</th><th>Description</th><th>Material</th></tr></thead>
                        <tbody>${data.billOfMaterials.map(item => `<tr><td>${item.item}</td><td>${item.quantity}</td><td>${item.partName}</td><td>${item.description}</td><td>${item.material}</td></tr>`).join('')}</tbody>
                    </table>
                </div>
                <div class="dpp-section">
                    <h3>Technical Specifications</h3>
                    <div class="dpp-grid">${techSpecsHtml}</div>
                </div>
                <div class="dpp-section">
                    <h3>Features & Benefits</h3>
                    <ul class="dpp-list">${data.featuresAndBenefits.map(item => `<li>${item}</li>`).join('')}</ul>
                </div>
            `;
            dppModal.querySelector('#dppProductName').textContent = `DPP: ${product.name}`;
            dppModal.classList.add('active');
        }

        const searchInput = document.getElementById('searchInput');
        searchInput.addEventListener('input', (e) => {
            const searchTerm = e.target.value.toLowerCase();
            const filteredProducts = products.filter(p => 
                p.name.toLowerCase().includes(searchTerm)
            );
            renderTable(filteredProducts);
        });

        tableBody.addEventListener('click', (e) => {
            const target = e.target;
            const productId = target.dataset.id;
            if (!productId) return;

            const product = products.find(p => p.id == productId);
            if (!product) return;

            if (target.classList.contains('dpp-link')) {
                e.preventDefault();
                populateAndShowDpp(product);
            }

            if (target.classList.contains('view-file-btn')) {
                const file = fileStore[product.id];
                if (file && !file.isPlaceholder) {
                     window.open(URL.createObjectURL(file), '_blank');
                } else {
                    alert("File preview is only available for items added during this session. This is a limitation of the simulation.");
                }
            }

            if (target.classList.contains('calculate-lca-btn-inline')) {
                target.textContent = "Calculating...";
                setTimeout(() => {
                    product.lca = parseFloat((Math.random() * 0.3 + 0.1).toFixed(3));
                    
                    const totalLca = products.reduce((sum, p) => sum + p.lca, 0);
                    sessionStorage.setItem('products', JSON.stringify(products));
                    sessionStorage.setItem('lcaValue', totalLca);

                    renderTable();
                }, 1000);
            }
        });
        
        const sidebar = document.querySelector('.sidebar');
        sidebar.addEventListener('mouseenter', () => sidebar.classList.add('expanded'));
        sidebar.addEventListener('mouseleave', () => sidebar.classList.remove('expanded'));

        const userName = localStorage.getItem('signupFullName') || 'John Doe';
        const companyName = localStorage.getItem('companyName') || 'Company Name';
        let initials = 'JD';
        if (userName) {
            const nameParts = userName.split(' ');
            initials = nameParts[0].charAt(0) + (nameParts.length > 1 ? nameParts[nameParts.length - 1].charAt(0) : '');
        }
        document.getElementById('user-name').textContent = userName;
        document.getElementById('user-avatar').textContent = initials.toUpperCase();
        document.getElementById('user-company').textContent = companyName;

        renderTable();
    });
</script>


</body>
</html>